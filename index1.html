<!DOCTYPE html>
<html>
<head>

	<!-- Required meta tags -->
	<!-- <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
	 
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<!-- web3.js 1.0.0 -->    
	<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.36/dist/web3.min.js" integrity="sha256-nWBTbvxhJgjslRyuAKJHK+XcZPlCnmIAAMixz6EefVk=" crossorigin="anonymous"></script>
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>TradeFinance-Dapp</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <link rel="stylesheet" href="css/ionicons.min.css">
  <link rel="stylesheet" href="css/AdminLTE.min.css">
  <link rel="stylesheet" href="css/global.css">
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

  <header class="main-header">
    <a href="#" class="logo">
      <span class="logo-mini"><img src="img/logo-icon-small.png" alt=""></span>
      <span class="logo-lg"><img src="img/logo2.png" alt=""></span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle d-md-none d-lg-none d-xl-none" data-toggle="push-menu" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>
      <span class="db-title"></span>
      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav my-2 my-lg-0">
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <img src="img/user_avatar.png" class="user-image" alt="User Image">
              <span class=""><b>Deployed on:</b> Eleven01-Network</span>
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li>
                  <a href="index.html"><i class="fa fa-lock"></i> Sign out</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <aside class="main-sidebar">
    <section class="sidebar">
      <ul class="nav nav-tabs" id="tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active"   data-toggle="tab" href="#productTransferedBySeller" role="tab" aria-controls="newwallet" aria-selected="true">Product TransferedBy Seller</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  data-toggle="tab" href="#requestAcceptedByFI" role="tab" aria-controls="Tab2" aria-selected="false">Request AcceptedBy FI</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  data-toggle="tab" href="#requestAcceptedBySeller" role="tab" aria-controls="Tab2" aria-selected="false">Request AcceptedBy Seller</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  data-toggle="tab" href="#sendAdvanceAmountToSellerByFIinvoiceId" role="tab" aria-controls="Tab2" aria-selected="false">SendAdvanceAmount ToSellerByFI InvoiceId</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  data-toggle="tab" href="#sendAmountToFIByBuyer" role="tab" aria-controls="Tab2" aria-selected="false">SendAmount ToFIBy Buyer</a>
        </li>
        <li class="nav-item">
          <a class="nav-link"  data-toggle="tab" href="#sendRemainingAmountToSellerByFI" role="tab" aria-controls="Tab2" aria-selected="false">SendRemainingAmount ToSellerBy FI</a>
       </li>
      <li class="nav-item">
          <a class="nav-link"  data-toggle="tab" href="#sendRequestByBuyer" role="tab" aria-controls="Tab2" aria-selected="false">SendRequestBy Buyer</a>
      </li>
      <li class="nav-item">
        <a class="nav-link"  data-toggle="tab" href="#setBuyer" role="tab" aria-controls="Tab2" aria-selected="false">Set Buyer</a>
    </li>
    <li class="nav-item">
        <a class="nav-link"  data-toggle="tab" href="#setFinancialInstitution" role="tab" aria-controls="Tab2" aria-selected="false">Set FinancialInstitution</a>
    </li>
    <li class="nav-item">
      <a class="nav-link"  data-toggle="tab" href="#setSeller" role="tab" aria-controls="Tab2" aria-selected="false">Set Seller</a>
  </li>  
      </ul>      
    </section>
  </aside>

  <div class="content-wrapper">
    <section class="content-header">
     
    </section>
    <section class="content">
      <div class="tab-content" id="tabs-content">

        <!-- tab 1 -->
        <div class="tab-pane fade" id="productTransferedBySeller" role="tabpanel" aria-labelledby="Tab2-tab">
          <div class="outer-box">
            <h3 class="outer-box-title">Product-TransferedBy-Seller</h3>
            <div class="row">
                <div class="col-sm-7 mx-auto">
            <form class="mrb30">
              <div class="form-group  ">
                <label for="staticEmail2" class="sr-only">Enter-invoiceId</label>
                <input type="text" readonly class="form-control-plaintext" id="Account" value="Enter-invoiceId">
              </div>
              <div class="form-group   ">
                <label for="Deposit" class="sr-only"></label>
                <input type="text" class="form-control" id="Invc" placeholder="uint256">
              </div>
              <button type="button" onclick="productTransferedBySeller()" class="btn btn-primary mb-2">invoiceId</button>
            </form>
            <table class="table table-striped table-bordered">
              <tr>
                <td width="150">Status:</td>
                <td><p id="productTransferedBySellerStatus"><p></td>
              </tr>
              <tr>
                <td>Block Number:</td>
                <td><p id="productTransferedBySellerBlockNumber"><p></td>
              </tr>   
              <tr>
                <td>Block Hash:</td>
                <td><p id="productTransferedBySellerHash"><p></td>
              </tr>     
            </table>
            </div></div>
          </div>
        </div>

        <!-- tab 2 -->            
            <div class="tab-pane fade" id="requestAcceptedByFI" role="tabpanel" aria-labelledby="Tab2-tab">
              <div class="outer-box">
                <h3 class="outer-box-title">Request-AcceptedBy-FI</h3>
                <div class="row">
                    <div class="col-sm-7 mx-auto">
                <form class=" mrb30">
                  <div class="form-group  ">
                    <label for="staticEmail2" class="sr-only">Enter-invoiceId</label>
                    <input type="text" readonly class="form-control-plaintext" id="Account" value="Enter-invoiceId">
                  </div>
                  <div class="form-group  ">
                    <label for="Deposit" class="sr-only"></label>
                    <input type="text" class="form-control" id="Id" placeholder="uint256">
                  </div>
                  <button type="button" onclick="requestAcceptedByFI()" class="btn btn-primary mb-2">invoiceId</button>
                </form>
            <table class="table table-striped table-bordered">
              <tr>
                <td width="150">Status:</td>
                <td><p id="requestAcceptedByFIStatus"><p></td>
              </tr>
              <tr>
                <td>Block Number:</td>
                <td><p id="requestAcceptedByFIBlockNumber"><p></td>
              </tr>   
              <tr>
                <td>Block Hash:</td>
                <td><p id="requestAcceptedByFIHash"><p></td>
              </tr>     
            </table>
            </div></div>
          </div>
        </div>

        <!-- tab 3-->            
        <div class="tab-pane fade" id="requestAcceptedBySeller" role="tabpanel" aria-labelledby="Tab2-tab">
          <div class="outer-box">
            <h3 class="outer-box-title">Request-AcceptedBy-Seller</h3>
            <div class="row">
              <div class="col-sm-7 mx-auto">
                <form class=" mrb30">
              <div class="form-group mb-2">
                <label for="address">InvoiceId</label>
                <input type="email" class="form-control" id="iceId" name="invoiceId" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="amount">ProductName</label>
                <input type="email" class="form-control" id="pName" name="productName" placeholder="string">
              </div>
              <div class="form-group">
                <label for="address">Quantity</label>
                <input type="email" class="form-control" id="qty" name="quantity" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="amount">ProductPrice</label>
                <input type="email" class="form-control" id="pPrice" name="productPrice" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="address">AdvanceAmount</label>
                <input type="email" class="form-control" id="advAmount" name="advaceAmount" placeholder="uint256">
              </div>
              <button type="button" onclick="requestAcceptedBySeller()" class="btn btn-primary mb-2">RequestAcceptedBySeller</button>
            </form>
            <table class="table table-striped table-bordered">
              <tr>
                <td width="150">Status:</td>
                <td><p id="requestAcceptedBySellerStatus"><p></td>
              </tr>
              <tr>
                <td>Block Number:</td>
                <td><p id="requestAcceptedBySellerBlockNumber"><p></td>
              </tr>   
              <tr>
                <td>Block Hash:</td>
                <td><p id="requestAcceptedBySellerHash"><p></td>
              </tr>     
            </table>
          </div>
        </div>
          </div>
          </div>

        <!-- tab 4-->            
        <div class="tab-pane fade" id="sendAdvanceAmountToSellerByFIinvoiceId" role="tabpanel" aria-labelledby="Tab2-tab">
          <div class="outer-box">
          <h3 class="outer-box-title">SendAdvance-ToSeller-ByFI-invoiceId</h3>
          <div class="row">
              <div class="col-sm-7 mx-auto">
          <form class=" mrb30">
            <div class="form-group">
              <label for="address">InvoiceId</label>
              <input type="email" class="form-control" id="invId" name="InvoiceId"  placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="Amount">FIId</label>
              <input type="email" class="form-control" id="FId" name="Amount"  placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="amount">SellerId</label>
              <input type="email" class="form-control" id="slrId" name="SellerId"  placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="amount">AdvanceAmount</label>
              <input type="email" class="form-control" id="advaceAmount" name="AdvanceAmount"  placeholder="uint256">
            </div>
            <button type="button" onclick="sendAdvanceAmountToSellerByFIinvoiceId()" class="btn btn-primary mb-2">SendAdvanceAmountToSellerByFIinvoiceId</button>
          </form>
          <table class="table table-striped table-bordered">
            <tr>
              <td width="150">Status:</td>
              <td><p id="sendAdvanceAmountToSellerByFIinvoiceIdStatus"><p></td>
            </tr>
            <tr>
              <td>Block Number:</td>
              <td><p id="sendAdvanceAmountToSellerByFIinvoiceIdBlockNumber"><p></td>
            </tr>   
            <tr>
              <td>Block Hash:</td>
              <td><p id="sendAdvanceAmountToSellerByFIinvoiceIdHash"><p></td>
            </tr>     
          </table>
          </div></div>
        </div>
      </div>

        <!-- tab 5-->            
        <div class="tab-pane fade" id="sendAmountToFIByBuyer" role="tabpanel" aria-labelledby="Tab2-tab">
            <div class="outer-box">
            <h3 class="outer-box-title">SendAmount-ToFI-ByBuyer</h3>
            <div class="row">
                <div class="col-sm-7 mx-auto">
            <form class=" mrb30">
              <div class="form-group">
                <label for="address">InvoiceId</label>
                <input type="email" class="form-control" id="invoicId" name="InvoiceId" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="amount">FIId</label>
                <input type="email" class="form-control" id="fIId" name="FIId" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="amount">BuyerId</label>
                <input type="email" class="form-control" id="TransbuyerIdferAddress" name="BuyerId" placeholder="uint256">
              </div>
              <div class="form-group">
                <label for="amount">Amount</label>
                <input type="email" class="form-control" id="Amount" name="Amount" placeholder="uint256">
              </div>
              <button type="button" onclick="sendAmountToFIByBuyer()" class="btn btn-primary mb-2">SendAmountToFIByBuyer</button>
            </form>
            <table class="table table-striped table-bordered">
              <tr>
                <td width="150">Status:</td>
                <td><p id="sendAmountToFIByBuyerStatus"><p></td>
              </tr>
              <tr>
                <td>Block Number:</td>
                <td><p id="sendAmountToFIByBuyerBlockNumber"><p></td>
              </tr>   
              <tr>
                <td>Block Hash:</td>
                <td><p id="sendAmountToFIByBuyerHash"><p></td>
              </tr>     
            </table>
            </div></div>
          </div>
        </div>

         <!-- tab 6-->            
         <div class="tab-pane fade" id="sendRemainingAmountToSellerByFI" role="tabpanel" aria-labelledby="Tab2-tab">
          <div class="outer-box">
          <h3 class="outer-box-title">sendRemaining-AmountToSeller-ByFI</h3>
          <div class="row">
            <div class="col-sm-7 mx-auto">
              <form class="mrb30">
            <div class="form-group">
              <label for="address">InvoiceId</label>
              <input type="email" class="form-control" id="invoiceId" name="InvoiceId" placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="amount">FIId</label>
              <input type="email" class="form-control" id="FIId" name="FIId" placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="amount">SellerId</label>
              <input type="email" class="form-control" id="sellrId" name="SellerId" placeholder="uint256">
            </div>
            <div class="form-group">
              <label for="amount">RemainingBalance</label>
              <input type="email" class="form-control" id="RemainingBalance" name="RemainingBalance" placeholder="uint256">
            </div>
            <button type="button" onclick="sendRemainingAmountToSellerByFI()" class="btn btn-primary">SendRemainingAmountToSellerByFI</button>
          </form>
          <table class="table table-striped table-bordered">
            <tr>
              <td width="150">Status:</td>
              <td><p id=" sendRemainingAmountToSellerByFIStatus"><p></td>
            </tr>
            <tr>
              <td>Block Number:</td>
              <td><p id=" sendRemainingAmountToSellerByFIBlockNumber"><p></td>
            </tr>   
            <tr>
              <td>Block Hash:</td>
              <td><p id=" sendRemainingAmountToSellerByFIHash"><p></td>
            </tr>     
          </table>
        </div>
      </div>
      </div>
      </div>

       <!-- tab 7-->            
       <div class="tab-pane fade" id="sendRequestByBuyer" role="tabpanel" aria-labelledby="Tab2-tab">
        <div class="outer-box">
        <h3 class="outer-box-title">sendRequest-ByBuyer</h3>
        <div class="row">
          <div class="col-sm-7 mx-auto">
            <form class="  mrb30">
          <div class="form-group">
            <label for="address">ProductId</label>
            <input type="email" class="form-control" id="productId" name="ProductId" placeholder="uint256">
          </div>
          <div class="form-group">
            <label for="amount">ProductName</label>
            <input type="email" class="form-control" id="productName" name="ProductName" placeholder="string">
          </div>
          <div class="form-group">
            <label for="amount">Quantity</label>
            <input type="email" class="form-control" id="quantity" name="Quantity" placeholder="uint256">
          </div>
          <div class="form-group">
            <label for="amount">ProductPrice</label>
            <input type="email" class="form-control" id="productPrice" name="ProductPrice" placeholder="uint256">
          </div>
          <p><button type="button" onclick="sendRequestByBuyer()" class="btn btn-primary">SendRequestByBuyer</button></p>
        </form>
        <table class="table table-striped table-bordered">
          <tr>
            <td width="150">Status:</td>
            <td><p id="sendRequestByBuyerStatus"><p></td>
          </tr>
          <tr>
            <td>Block Number:</td>
            <td><p id="sendRequestByBuyerBlockNumber"><p></td>
          </tr>   
          <tr>
            <td>Block Hash:</td>
            <td><p id="sendRequestByBuyerHash"><p></td>
          </tr>     
        </table>
      </div>
    </div>
    </div></div>

     <!-- tab 8-->            
     <div class="tab-pane fade" id="setBuyer" role="tabpanel" aria-labelledby="Tab2-tab">
      <div class="outer-box">
      <h3 class="outer-box-title">set-Buyer</h3>
      <div class="row">
        <div class="col-sm-7 mx-auto">
          <form class="  mrb30">
        <div class="form-group">
          <label for="address">BuyerId</label>
          <input type="email" class="form-control" id="buyerId" name="BuyerId" placeholder="uint256">
        </div>
        <div class="form-group">
          <label for="amount">BuyerName</label>
          <input type="email" class="form-control" id="buyerName" name="BuyerName" placeholder="string">
        </div>
        <div class="form-group">
          <label for="amount">Country</label>
          <input type="email" class="form-control" id="bcountry" name="Country" placeholder="string">
        </div>
        <div class="form-group">
          <label for="amount">BuyerAddress</label>
          <input type="email" class="form-control" id="buyerAddress" name="BuyerAddress" placeholder="address">
        </div>
        <div class="form-group">
          <label for="amount">BuyerBalance</label>
          <input type="email" class="form-control" id="buyerBalance" name="BuyerBalance" placeholder="uint256">
        </div>
        <p><button type="button" onclick="setBuyer()" class="btn btn-primary">SetBuyer</button></p>
      </form>
      <table class="table table-striped table-bordered">
        <tr>
          <td width="150">Status:</td>
          <td><p id="setBuyerStatus"><p></td>
        </tr>
        <tr>
          <td>Block Number:</td>
          <td><p id="setBuyerBlockNumber"><p></td>
        </tr>   
        <tr>
          <td>Block Hash:</td>
          <td><p id="setBuyerHash"><p></td>
        </tr>     
      </table>
    </div>
  </div>
  </div>
  </div>

   <!-- tab 9-->            
   <div class="tab-pane fade" id="setFinancialInstitution" role="tabpanel" aria-labelledby="Tab2-tab">
    <div class="outer-box">
    <h3 class="outer-box-title">setFinancial-Institution</h3>
    <div class="row">
      <div class="col-sm-7 mx-auto">
        <form class="  mrb30">
      <div class="form-group">
        <label for="address">FIId</label>
        <input type="email" class="form-control" id="FIId" name="FIId" placeholder="uint256">
      </div>
      <div class="form-group">
        <label for="amount">FIName</label>
        <input type="email" class="form-control" id="FIName" name="FIName" placeholder="string">
      </div>
      <div class="form-group">
        <label for="amount">FIAddress</label>
        <input type="email" class="form-control" id="FIAddress" name="FIAddress" placeholder="address">
      </div>
      <div class="form-group">
        <label for="amount">FIBalance</label>
        <input type="email" class="form-control" id="FIBalance" name="FIBalance" placeholder="uint256">
      </div>
      <p><button type="button" onclick="setFinancialInstitution()" class="btn btn-primary">SetFinancialInstitution</button></p>
    </form>
    <table class="table table-striped table-bordered">
      <tr>
        <td width="150">Status:</td>
        <td><p id="setFinancialInstitutionStatus"><p></td>
      </tr>
      <tr>
        <td>Block Number:</td>
        <td><p id="setFinancialInstitutionBlockNumber"><p></td>
      </tr>   
      <tr>
        <td>Block Hash:</td>
        <td><p id="setFinancialInstitutionHash"><p></td>
      </tr>     
    </table>
  </div>
</div>
</div>
</div>

 <!-- tab 10-->            
 <div class="tab-pane fade" id="setSeller" role="tabpanel" aria-labelledby="Tab2-tab">
  <div class="outer-box">
  <h3 class="outer-box-title">set-Seller</h3>
  <div class="row">
    <div class="col-sm-7 mx-auto">
      <form class="  mrb30">
    <div class="form-group">
      <label for="address">SellerId</label>
      <input type="email" class="form-control" id="sellerId" name="SellerId" placeholder="uint256">
    </div>
    <div class="form-group">
      <label for="amount">SellerName</label>
      <input type="email" class="form-control" id="sellerName" name="SellerName" placeholder="string">
    </div>
    <div class="form-group">
      <label for="amount">Country</label>
      <input type="email" class="form-control" id="country" name="Country" placeholder="string">
    </div>
    <div class="form-group">
      <label for="amount">SellerAddress</label>
      <input type="email" class="form-control" id="sellerAddress" name="SellerAddress" placeholder="address">
    </div>
    <div class="form-group">
      <label for="amount">SellerBalance</label>
      <input type="email" class="form-control" id="sellerBalance" name="SellerBalance" placeholder="uint256">
    </div>
    <p><button type="button" onclick="setSeller()" class="btn btn-primary">SetSeller</button></p>
  </form>
  <table class="table table-striped table-bordered">
    <tr>
      <td width="150">Status:</td>
      <td><p id="setSellerStatus"><p></td>
    </tr>
    <tr>
      <td>Block Number:</td>
      <td><p id="setSellerBlockNumber"><p></td>
    </tr>   
    <tr>
      <td>Block Hash:</td>
      <td><p id="setSellerHash"><p></td>
    </tr>     
  </table>
</div>
</div>
</div>
</div>

        
  </div>
    </section>
  </div>
  <footer class="main-footer">
     <p> To Check The Details <a href="verify.html">ClickHere</p>
  </footer>
</div>


<script src="js/jquery.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script>
  $.widget.bridge('uibutton', $.ui.button);
</script>
<script src="js/bootstrap.min.js"></script>
<script src="js/adminlte.min.js"></script>

<script type="text/javascript">
  
$(document).ready(function() {
  $('.nav-item a').click(function(){
        $("body").removeClass("sidebar-open");
    });
});

</script>

<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=<Google Maps Javascript API token>"
  type="text/javascript"></script>

<script>

  function openTab(evt, tabname) {
      // Declare all variables
      var i, tabcontent, tablinks;
  
      // Get all elements with class="tabcontent" and hide them
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
      }
  
      // Get all elements with class="tablinks" and remove the class "active"
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
  
      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabname).style.display = "block";
      evt.currentTarget.className += " active";
  }
  
  if (typeof web3 !== "undefined") {
    web3 = new Web3(web3.currentProvider);
  } else {
    web3 = new Web3(new Web3.providers.HttpProvider("http://104.43.214.171:24000/api/node/rpc"));
  }

  var abi =[
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "productstatus",
      "outputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "name": "productName",
          "type": "string"
        },
        {
          "name": "quantity",
          "type": "uint256"
        },
        {
          "name": "productPrice",
          "type": "uint256"
        },
        {
          "name": "IsitSeller",
          "type": "bool"
        },
        {
          "name": "status",
          "type": "string"
        },
        {
          "name": "advaceAmount",
          "type": "uint256"
        },
        {
          "name": "IsitFI",
          "type": "bool"
        },
        {
          "name": "IsitApproved",
          "type": "bool"
        },
        {
          "name": "advaceAmountReceived",
          "type": "bool"
        },
        {
          "name": "ProductTransfered",
          "type": "bool"
        },
        {
          "name": "Amount",
          "type": "uint256"
        },
        {
          "name": "RemainingBalance",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "products",
      "outputs": [
        {
          "name": "productId",
          "type": "uint256"
        },
        {
          "name": "productName",
          "type": "string"
        },
        {
          "name": "quantity",
          "type": "uint256"
        },
        {
          "name": "productPrice",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "sellers",
      "outputs": [
        {
          "name": "sellerId",
          "type": "uint256"
        },
        {
          "name": "sellerName",
          "type": "string"
        },
        {
          "name": "country",
          "type": "string"
        },
        {
          "name": "sellerAddress",
          "type": "address"
        },
        {
          "name": "sellerBalance",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "fis",
      "outputs": [
        {
          "name": "FIId",
          "type": "uint256"
        },
        {
          "name": "FIName",
          "type": "string"
        },
        {
          "name": "FIAddress",
          "type": "address"
        },
        {
          "name": "FIBalance",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "buyers",
      "outputs": [
        {
          "name": "buyerId",
          "type": "uint256"
        },
        {
          "name": "buyerName",
          "type": "string"
        },
        {
          "name": "country",
          "type": "string"
        },
        {
          "name": "buyerAddress",
          "type": "address"
        },
        {
          "name": "buyerBalance",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_buyer",
          "type": "address"
        },
        {
          "name": "_seller",
          "type": "address"
        },
        {
          "name": "_Financialinstitution",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "buyerId",
          "type": "uint256"
        },
        {
          "name": "buyerName",
          "type": "string"
        },
        {
          "name": "country",
          "type": "string"
        },
        {
          "name": "buyerAddress",
          "type": "address"
        },
        {
          "name": "buyerBalance",
          "type": "uint256"
        }
      ],
      "name": "setBuyer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "sellerId",
          "type": "uint256"
        },
        {
          "name": "sellerName",
          "type": "string"
        },
        {
          "name": "country",
          "type": "string"
        },
        {
          "name": "sellerAddress",
          "type": "address"
        },
        {
          "name": "sellerBalance",
          "type": "uint256"
        }
      ],
      "name": "setSeller",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "FIId",
          "type": "uint256"
        },
        {
          "name": "FIName",
          "type": "string"
        },
        {
          "name": "FIAddress",
          "type": "address"
        },
        {
          "name": "FIBalance",
          "type": "uint256"
        }
      ],
      "name": "setFinancialInstitution",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "productId",
          "type": "uint256"
        },
        {
          "name": "productName",
          "type": "string"
        },
        {
          "name": "quantity",
          "type": "uint256"
        },
        {
          "name": "productPrice",
          "type": "uint256"
        }
      ],
      "name": "sendRequestByBuyer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "name": "productName",
          "type": "string"
        },
        {
          "name": "quantity",
          "type": "uint256"
        },
        {
          "name": "productPrice",
          "type": "uint256"
        },
        {
          "name": "advaceAmount",
          "type": "uint256"
        }
      ],
      "name": "requestAcceptedBySeller",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "requestAcceptedByFI",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "name": "FIId",
          "type": "uint256"
        },
        {
          "name": "sellerId",
          "type": "uint256"
        },
        {
          "name": "advaceAmount",
          "type": "uint256"
        }
      ],
      "name": "sendAdvanceAmountToSellerByFI",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "productTransferedBySeller",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "name": "FIId",
          "type": "uint256"
        },
        {
          "name": "buyerId",
          "type": "uint256"
        },
        {
          "name": "Amount",
          "type": "uint256"
        }
      ],
      "name": "sendAmountToFIByBuyer",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "name": "FIId",
          "type": "uint256"
        },
        {
          "name": "sellerId",
          "type": "uint256"
        },
        {
          "name": "RemainingBalance",
          "type": "uint256"
        }
      ],
      "name": "sendRemainingAmountToSellerByFI",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    }
  ];
    
    var contractAddress = "0x969d80a3d17a2db5e71aaa76a119a3fb641ea498";
      async function init() {
        TradeFinance = await new web3.eth.Contract(abi, contractAddress);
        var accounts = await web3.eth.getAccounts();
        console.log(accounts);
        console.log(TradeFinance);
        web3.eth.defaultAccount = accounts[0];
      }
      init();
    

    // productTransferedBySeller
    async function productTransferedBySeller() {
      var Invc = document.getElementById('Invc').value;
      TradeFinance.methods.productTransferedBySeller(Invc).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("productTransferedBySellerHash").innerHTML = receipt.blockHash;
        document.getElementById("productTransferedBySellerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("productTransferedBySellerStatus").innerHTML = receipt.status;
      });
    }

     // requestAcceptedByFI
     async function requestAcceptedByFI() {
      var Id = document.getElementById('Id').value;
      TradeFinance.methods.requestAcceptedByFI(Id).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("requestAcceptedByFIHash").innerHTML = receipt.blockHash;
        document.getElementById("requestAcceptedByFIBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("requestAcceptedByFIStatus").innerHTML = receipt.status;
      });
    }

    // requestAcceptedBySeller
    async function requestAcceptedBySeller() {
      var iceId = document.getElementById('iceId').value;
      var pName = document.getElementById('pName').value;
      var qty = document.getElementById('qty').value;
      var ProductPrice = document.getElementById('pPrice').value;
      var AdvanceAmount = document.getElementById('advAmount').value;

      TradeFinance.methods.requestAcceptedBySeller(iceId,pName,qty,ProductPrice,AdvanceAmount).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("requestAcceptedBySellerHash").innerHTML = receipt.blockHash;
        document.getElementById("requestAcceptedBySellerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("requestAcceptedBySellerStatus").innerHTML = receipt.status;
      });
    }

     // sendAdvanceAmountToSellerByFIinvoiceId
     async function sendAdvanceAmountToSellerByFI() {
      var invId = document.getElementById('invId').value;
      var FID = document.getElementById('FId').value;
      var slrId = document.getElementById('slrId').value;
      var AdvanceAmount = document.getElementById('advaceAmount').value;

      TradeFinance.methods.sendAdvanceAmountToSellerByFI(invId,FID,slrId,AdvanceAmount).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("sendAdvanceAmountToSellerByFIHash").innerHTML = receipt.blockHash;
        document.getElementById("sendAdvanceAmountToSellerByFIBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("sendAdvanceAmountToSellerByFIStatus").innerHTML = receipt.status;
      });
    }
     // sendAmountToFIByBuyer
     async function sendAmountToFIByBuyer() {
      var InvoicId = document.getElementById('invoicId').value;
      var fid = document.getElementById('fIId').value;
      var TransbuyerIdferAddress = document.getElementById('TransbuyerIdferAddress').value;
      var Amount = document.getElementById('Amount').value;

      TradeFinance.methods.sendAmountToFIByBuyer(InvoicId,fid,TransbuyerIdferAddress,Amount).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("sendAmountToFIByBuyerHash").innerHTML = receipt.blockHash;
        document.getElementById("sendAmountToFIByBuyerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("sendAmountToFIByBuyerStatus").innerHTML = receipt.status;
      });
    }
     //  sendRemainingAmountToSellerByFI
     async function  sendRemainingAmountToSellerByFI() {
      var InvoiceId = document.getElementById('invoiceId').value;
      var FnanceId = document.getElementById('FIId').value;
      var SlrId = document.getElementById('sellrId').value;
      var RemainingBalance = document.getElementById('RemainingBalance').value;

      TradeFinance.methods. sendRemainingAmountToSellerByFI(InvoiceId,FnanceId,SlrId,RemainingBalance).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById(" sendRemainingAmountToSellerByFIHash").innerHTML = receipt.blockHash;
        document.getElementById(" sendRemainingAmountToSellerByFIBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById(" sendRemainingAmountToSellerByFIStatus").innerHTML = receipt.status;
      });
    }
     // sendRequestByBuyer
     async function sendRequestByBuyer() {
      var ProductId = document.getElementById('productId').value;
      var ProductName = document.getElementById('productName').value;
      var ProductQuantity = document.getElementById('quantity').value;
      var ProductPrice = document.getElementById('productPrice').value;

      TradeFinance.methods.sendRequestByBuyer(ProductId,ProductName,ProductQuantity,ProductPrice).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("sendRequestByBuyerHash").innerHTML = receipt.blockHash;
        document.getElementById("sendRequestByBuyerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("sendRequestByBuyerStatus").innerHTML = receipt.status;
      });
    }
     // setBuyer
     async function setBuyer() {
      var BuyerId = document.getElementById('buyerId').value;
      var BuyerName = document.getElementById('buyerName').value;
      var BuyerCountry = document.getElementById('bcountry').value;
      var BuyerAddress = document.getElementById('buyerAddress').value;
      var BuyerBalance = document.getElementById('buyerBalance').value;

      TradeFinance.methods.setBuyer(BuyerId,BuyerName,BuyerCountry,BuyerAddress,BuyerBalance).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("setBuyerHash").innerHTML = receipt.blockHash;
        document.getElementById("setBuyerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("setBuyerStatus").innerHTML = receipt.status;
      });
    }
     // setFinancialInstitution
     async function setFinancialInstitution() {
      var FinancialId = document.getElementById('FIId').value;
      var FinancialName = document.getElementById('FIName').value;
      var FinancialAddress = document.getElementById('FIAddress').value;
      var FinancialBalance = document.getElementById('FIBalance').value;

      TradeFinance.methods.setFinancialInstitution(FinancialId,FinancialName,FinancialAddress,FinancialBalance).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("setFinancialInstitutionHash").innerHTML = receipt.blockHash;
        document.getElementById("setFinancialInstitutionBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("setFinancialInstitutionStatus").innerHTML = receipt.status;
      });
    }
     // setSeller
     async function setSeller() {
      var SellerId = document.getElementById('sellerId').value;
      var SellerName = document.getElementById('sellerName').value;
      var Country = document.getElementById('country').value;
      var SellerAddress = document.getElementById('sellerAddress').value;
      var SellerBalance = document.getElementById('sellerBalance').value;
     

      TradeFinance.methods.setSeller(SellerId,SellerName,Country,SellerAddress,SellerBalance).send({from: web3.eth.defaultAccount}).on('receipt', function(receipt) {
        console.log(receipt);
        document.getElementById("setSellerHash").innerHTML = receipt.blockHash;
        document.getElementById("setSellerBlockNumber").innerHTML = receipt.blockNumber;
        document.getElementById("setSellerStatus").innerHTML = receipt.status;
      });
    }

  
  function cleanPadding(bstr) {
	let len = bstr.length;
	let i = len;
	// Count amount of zeroes
	while (i >= 1) {
		if(bstr[i-1] != '0') {
			break;
		}
		i--;
	}
	return(bstr.substring(0,i));
}

  </script>
</body>
</html>
